/*
Theme Name: Navi
Theme URI:
Author: wordpressdotorg
Author URI: https://wordpress.org
Description: Gutenberg friendly theme.
Version: 1.0.0
License: GNU General Public License v2 or later
License URI: LICENSE
Text Domain: navitheme
Tags: translation-ready
*/

/**
 * Variables
 */

$theme-width: 720px;
$theme-width-fullwide: 1800px;
$text-margin: 56px;
$text-margin-small: 28px;
$responsive-padding: 20px;
$fonts-system: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
$fonts-serif: "Noto Serif", serif;
$fonts-small: 13px;

$blue-medium: #009fd4;

$dark-gray-900: #000;
$dark-gray-900: #191e23;
$dark-gray-800: #23282d;
$dark-gray-700: #32373c;
$dark-gray-600: #40464d;
$dark-gray-500: #555d66;    // use this most of the time for dark items
$dark-gray-400: #606a73;
$dark-gray-300: #6c7781;
$dark-gray-200: #7e8993;
$dark-gray-100: #8f98a1;
$light-gray-900: #a2aab2;
$light-gray-800: #b5bcc2;
$light-gray-700: #ccd0d4;
$light-gray-600: #d7dade;
$light-gray-500: #e2e4e7;   // good for "grayed" items and borders
$light-gray-400: #e8eaeb;
$light-gray-300: #edeff0;
$light-gray-200: #f3f4f5;
$light-gray-100: #f8f9f9;
$white: #fff;

$shadow-invisible: 0 0px 0px rgba( 0,0,0,0 );
$shadow-big: 0 10px 30px rgba( 0,0,0, .2 );
$shadow-responsive-footer: 0 0 20px rgba( 0,0,0, .2 );


/**
 * Mixins
 */

$break-huge: 1440px;
$break-wide: 1280px;
$break-large: 960px;	// admin sidebar auto folds
$break-medium: 782px;	// adminbar goes big
$break-small: 600px;
$break-mobile: 480px;

@mixin break-huge() {
	@media ( min-width: #{ ( $break-huge ) } ) {
		@content;
	}
}

@mixin break-wide() {
	@media ( min-width: #{ ( $break-wide ) } ) {
		@content;
	}
}

@mixin break-large() {
	@media ( min-width: #{ ( $break-large ) } ) {
		@content;
	}
}

@mixin break-medium() {
	@media ( min-width: #{ ( $break-medium ) } ) {
		@content;
	}
}

@mixin break-small() {
	@media ( min-width: #{ ( $break-small ) } ) {
		@content;
	}
}

@mixin break-mobile() {
	@media ( min-width: #{ ( $break-mobile ) } ) {
		@content;
	}
}


/**
 * Base Styles
 */

html,
body {
	margin: 0;
	padding: 0;
	min-height: 100%;
}

* {
	box-sizing: border-box;
}

body {
	font: 12.5pt/1.8 $fonts-serif;
	color: $dark-gray-900;
	min-width: 320px;
	padding-bottom: $text-margin;
}

img {
	max-width: 100%;
	height: auto;
}

h1,
h2,
h3,
h4,
h5,
h6,
p {
	margin: 0;
}

header,
footer,
aside,
article,
section,
nav,
svg {
	display: block;
}

svg {
	fill: currentColor;
}

.screen-reader-text {
	display: none;
}

.posted-on .published+.updated {
	display: none;
}

a {
	color: $blue-medium;
}


/**
 * Navigation
 */

body {
	padding-top: 0;

	@include break-medium {
		padding-top: $text-margin;

		&.logged-in {
			padding-top: $text-margin + 32px;
		}
	}
}

header.site-header {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
	font-weight: 500;
	z-index: 10;
	height: $text-margin;
	background: $light-gray-200;
	font-size: $fonts-small;
	display: flex;
	flex-direction: row;
	justify-content: flex-start;
	padding: 0 $text-margin;

	position: fixed;
	bottom: 0;
	left: -#{ $text-margin - $responsive-padding };
	right: -#{ $text-margin - $responsive-padding };
	box-shadow: $shadow-responsive-footer;

	@include break-medium {
		position: absolute;
		left: 0;
		top: 0;
		right: 0;
		bottom: auto;
		box-shadow: none;
		body.logged-in & {
			top: 32px;
		}
	}

	a {
		display: flex;
		height: $text-margin;
		width: 100%;
		justify-content: left;
		align-items: center;
		color: $dark-gray-500;
		text-align: center;
		text-decoration: none;
	}

	ul li.active a,
	ul li a:hover {
		color: $dark-gray-900;
	}

	.site-branding {
		display: flex;
		height: $text-margin;
		margin: 0 auto 0 0;
	}

	.site-branding h1 {
		font-size: $fonts-small;
		font-weight: 500;
	}

	.site-branding a {
		padding: 0 $text-margin-small 0 0;
		color: $dark-gray-900;
	}

	.main-navigation {
		display: flex;
		height: $text-margin;
		justify-content: space-around;
		margin: 0 0 0 $text-margin;
	}

	.main-navigation .menu {
		margin: 0;
		padding: 0;
		list-style: none;
	}

	.main-navigation .menu li {
		display: inline-block;
		float: left;
	}

	.main-navigation a {
		padding: 0 0 0 $text-margin-small;
	}

	.menu-toggle {
		display: none;
	}

	// Special random item
	a[href="?random=1"] {
		fill: $dark-gray-500;
		text-indent: 100%;
		width: 24px + 28px;
		overflow: hidden;
		background-size: 24px 24px;
		background-repeat: no-repeat;
		background-position: right center;
		background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI0IDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe2ZpbGw6IzU1NUQ2Njt9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTQsNHYyaDIuNmwtMy4yLDMuMmwxLjQsMS40TDE4LDcuNFYxMGgyVjRIMTR6IE0xOCwxNi42TDUuNyw0LjNMNC4zLDUuN0wxNi42LDE4SDE0djJoNnYtNmgtMlYxNi42eiBNNC4zLDE4LjNsMS40LDEuNGw0LjktNC45bC0xLjQtMS40TDQuMywxOC4zeiIvPjwvc3ZnPg==);

		&:hover {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI0IDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe2ZpbGw6IzFGMjMyODt9PC9zdHlsZT48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTQsNHYyaDIuNmwtMy4yLDMuMmwxLjQsMS40TDE4LDcuNFYxMGgyVjRIMTR6IE0xOCwxNi42TDUuNyw0LjNMNC4zLDUuN0wxNi42LDE4SDE0djJoNnYtNmgtMlYxNi42eiBNNC4zLDE4LjNsMS40LDEuNGw0LjktNC45bC0xLjQtMS40TDQuMywxOC4zeiIvPjwvc3ZnPg==);
		}
	}
}


/**
 * Posts
 */

.site-content {
	margin: 0 auto;

	/* Center everything, except a few things */
	article > *:not( .alignfull ):not( .alignwide ) {
		max-width: $theme-width;
		margin-left: auto;
		margin-right: auto;
	}
}


/**
 * Entry Meta
 */

.entry-meta {
	font-family: $fonts-system;
	padding: 0 $responsive-padding;
	font-family: $fonts-system;
	font-size: $fonts-small;
	color: $dark-gray-500;
	margin-bottom: $text-margin;
}

.entry-meta a {
	color: $dark-gray-500;
	text-decoration: none;
}

.entry-meta a:hover {
	text-decoration: underline;
}


/**
 * Form widgets
 */

button,
input[type="submit"] {
	background-color: $dark-gray-700;
    border: none;
    border-radius: 23px;
    color: $white;
    cursor: pointer;
    display: inline-block;
    font-size: 18px;
    height: 46px;
    line-height: 46px;
    margin: 0;
    padding: 0 24px;
    white-space: nowrap;
	font-family: $fonts-serif;
}

input[type="text"],
textarea {
	border: 1px solid $light-gray-500;
	padding: 1em;
	font-size: $fonts-small;
	font-family: $fonts-system;

	&:focus {
		border: 1px solid $dark-gray-500;
		outline: none;
	}
}

label {
	font-size: $fonts-small;
	font-family: $fonts-system;
	color: $light-gray-900;
}


/**
 * Scrollbars
 */

body ::-webkit-scrollbar {
	width: 12px;
	height: 12px;
}

body ::-webkit-scrollbar-thumb {
	border-radius: 10px;
	background-color: $light-gray-900;
	border: 3px solid transparent;
	background-clip: padding-box;

	&:hover {
		background-color: $dark-gray-100;
	}
}


/**
 * Alignments
 */

.alignfull,
.alignwide {
	max-width: $theme-width-fullwide;
	margin-left: auto;
	margin-right: auto;

	img {
		width: 100%;
	}
}

.alignfull {
	width: 100%;

}

.alignwide {
	width: 75%;
}


/**
 * Main column width
 */

.navigation,
.more-link,
.comments-area,
body.home .widget {
	clear: both;
	max-width: $theme-width;
	margin: $text-margin auto;
	padding: 0 $responsive-padding;
}


/**
 * Text
 */

.site-content article {
	position: relative;
	padding: $text-margin 0;

	> p,
	> blockquote {
		max-width: $theme-width;
		padding: 0 $responsive-padding;
		margin-top: $text-margin;
		margin-bottom: $text-margin;
	}

	> ul {
		max-width: $theme-width;
		margin-top: $text-margin;
		margin-bottom: $text-margin;
		padding: 0 #{ $responsive-padding - 8px };
	}

	p a {
		text-decoration: underline;
		font-weight: 700;
	}

	a:hover {
		text-decoration: none;
	}

	> h1,
	> h2,
	> h3 {
		max-width: $theme-width;
		padding: 0 $responsive-padding;
		margin: $text-margin auto;
		font-size: 36pt;
		line-height: 1.5;
	}

	> h2 {
		font-size: 32pt;
	}

	> h3 {
		font-size: 28pt;
	}

	> h4 {
		font-size: 100%;
	}

	> p:first-of-type {
		margin-top: 0;
	}
}


/**
 * Blocks
 */

/* Cover Image */
.wp-block-cover-image {
	margin: $text-margin auto;
}

/* Separator */
hr,
hr.wp-block-separator {
	border: none;
	text-align: center;
	font-size: 20px;

	&:before {
		content: '...';
		line-height: 0;
		letter-spacing: 1em;
	}
}

/* Quotes */
.site-content article > blockquote.wp-block-quote,
.site-content article.page > blockquote.wp-block-quote,
.site-content article.post > blockquote.wp-block-quote {	/* increase specificity */
	border-left: 4px solid $dark-gray-900;
	font-size: 15pt;
	padding: 0 2em;
	font-style: italic;
	max-width: $theme-width - $responsive-padding - $responsive-padding;
}

/* Fixme */
.site-content article > blockquote.align-left,
.site-content article > blockquote.align-right {
	max-width: 360px;
}

.site-content article > blockquote.align-left {
	float: left;
	margin-left: 15%;
	padding-right: 40px;
}

.site-content article > blockquote.align-right {
	float: right;
	margin-right: 15%;
	padding-left: 40px;
}

/* Pullquote */
.site-content article > blockquote.wp-block-pullquote {
	padding: $text-margin 0;
}

/* Responsive embeds */
.wp-block-embed {
	position: relative;

	&:before {
		content: '';
		display: block;
		padding-top: 56.25%;	/* 16:9 */
	}

	iframe {
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		width: 100%;
		height: 100%;
	}
}


/**
 * Comments
 */

.comments-area {
	.logged-in-as {
		font-size: $fonts-small;
		font-family: $fonts-system;
		color: $dark-gray-500;

		a {
			color: $dark-gray-500;
		}
	}

	.comment-form-comment {
		margin: 1em 0;

		label {
			display: block;
		}

		textarea {
			width: 100%;
		}
	}
}


/**
 * Post Navigation
 */

.navigation {
	margin-bottom: $text-margin;
	overflow: hidden;

	h4 {
		margin: $text-margin 0 $text-margin $text-margin-small;
		position: relative;
	}

	.thumbnails {
		margin: 0 -$text-margin-small;
	}

	.nav-previous,
	.nav-next {
		width: 50%;
	}

	.nav-previous {
		float: left;
	}

	.nav-next {
		float: right;
	}
}


/**
 * Home Page
 */

body.home .widget {
	h2 {
		font-size: 100%;
		margin-bottom: 1em;
	}

	p {
		margin-bottom: $text-margin;
	}
}


/**
 * Pagination
 */

.nav-links {
	display: flex;
	align-items: center;
	justify-content: center;
	padding: $text-margin 0;

	.screen-reader-text {
		display: inline-block;
		margin-right: 4px;
	}

	> a,
	> span {
		display: inline-block;
		padding: 1em 2em;
		font-family: $fonts-system;
		font-size: $fonts-small;
		color: $dark-gray-500;
		text-decoration: none;
		margin-right: 4px;
	}

	> span.current {
		background: $light-gray-200;
	}

	> a:hover {
		box-shadow: $shadow-big;
		background: $white;
	}
}


$column-width: 400px;

.posts {
	margin: $text-margin auto;
	clear: both;
	overflow: hidden;
	column-count: 1;
	column-gap: 0;
	max-width: 1130px;
}

@media only screen and ( min-width: #{ $column-width * 2 } )  {
	.posts {
		column-count: 2;
	}
}

.posts article.post,
.thumbnails article.post {
	margin: 0;
	padding: #{ $text-margin-small / 2 } $text-margin-small #{ $text-margin-small * 1.5 } $text-margin-small;

	section:before {
		content: '';
		display: block;
		padding-top: 50%;
	}

	&.has-post-thumbnail section {
		a,
		.entry-meta {
			color: $white;
		}

		> a:before {
			content: '';
			display: block;
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			background: rgba( 0,0,0, .5 );
		}
	}
}

.thumbnails article.post {
	section {
		background: $light-gray-200;
		padding: 0;
		position: relative;
		overflow: hidden;
		box-shadow: $shadow-invisible;
		transition: all .1s linear;
		break-inside: avoid;
		min-height: 200px;
		width: 100%;
	}

	section > a {
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		padding: $text-margin-small;
		text-decoration: none;
		display: block;
		color: $dark-gray-900;
		background-size: cover;
		background-position: center center;
	}

	section > a:hover h3 {
		text-decoration: underline;
	}

	section:hover {
		box-shadow: $shadow-big;
		background: $white;
	}

	.entry-meta {
		position: absolute;
		bottom: $text-margin-small;
		left: $text-margin-small;
		padding: 0;
		margin: 0;
	}

	h3 {
		position: relative;
		z-index: 1;
	}

	h3 svg {
		width: 18px;
		height: 18px;
		position: absolute;
		top: 8px;
		right: 0;
	}
}

.navigation .thumbnails article.post section:first-child:before {
	padding-top: 0;
}

.navigation .thumbnails .column-spacer {
	min-height: 210px;
}


/**
 * Featured
 */

.site-content .featured {
	margin: 0 auto #{ $text-margin * 3 } auto;
	max-width: $theme-width * 1.5;

	article.post {
		padding: 35% $text-margin-small 0;
		position: relative;
	}

	article.post {

		.entry-thumbnail {
			display: block;
			position: absolute;
			margin: 0;
			max-width: none;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			z-index: 0;

			background-position: center center;
			background-color: $light-gray-200;
			background-repeat: no-repeat;

			// No thumbnail
			background-image: url( 'assets/pattern.svg' );
			background-size: 24px auto;
		}

		// With thumbnail
		&.has-post-thumbnail .entry-thumbnail {
			background-size: cover;
		}
	}

	article.post .entry-meta {
		position: absolute;
		margin: $text-margin-small 0 0 0;
		padding: 0 0 0 $text-margin-small;
		color: $dark-gray-900;

		a {
			color: $dark-gray-900;
		}
	}

	article.post .entry-excerpt {
		position: relative;
		z-index: 1;
		display: block;
		margin: 0;
		padding: 0;
		background: $white;
		color: $dark-gray-900;
		text-decoration: none;
		padding: $text-margin-small $text-margin-small 0 $text-margin-small;

		h3 {
			font-size: 28pt;
		}

		a {
			display: block;
			color: $dark-gray-900;
			text-decoration: none;
		}

		a:hover {
			text-decoration: underline;
		}
	}
}
