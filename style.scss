/*
Theme Name: Navi
Theme URI:
Author: wordpressdotorg
Author URI: https://wordpress.org
Description: Gutenberg friendly theme.
Version: 1.0.0
License: GNU General Public License v2 or later
License URI: LICENSE
Text Domain: navitheme
Tags: translation-ready
*/

/**
 * Variables
 */

$theme-width: 720px;
$text-margin: 56px;
$responsive-padding: 20px;
$fonts-system: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
$fonts-small: 12px;

/**
 * Base Styles
 */

html,
body {
	margin: 0;
	padding: 0;
	min-height: 100%;
}

* {
	box-sizing: border-box;
}

body {
	font: 12.5pt/1.8 "Noto Serif", serif;
	color: #222;
	min-width: 320px;
	padding-bottom: $text-margin;
}

img {
	max-width: 100%;
	height: auto;
}

h1,
h2,
h3,
h4,
h5,
h6,
p {
	margin: 0;
}

header,
footer,
aside,
article,
section,
nav,
svg {
	display: block;
}

svg {
	fill: currentColor;
}

.screen-reader-text {
	display: none;
}

.posted-on .updated {
	display: none;
}

.entry-meta {
	padding: 0 $responsive-padding;
}

a {
	color: #009fd4;
}


/**
 * Navigation
 */

body {
	padding-top: $text-margin;

	&.logged-in {
		padding-top: $text-margin + 32px;
	}
}

header.site-header {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
	font-weight: 500;
	background: #fff;
	position: absolute;
	z-index: 1;
	left: 0;
	top: 0;
	right: 0;
	height: $text-margin;
	background: #f7f7f7;
	font-size: $fonts-small;
	display: flex;
	flex-direction: row;
	justify-content: flex-start;
	padding: 0 $text-margin;

	body.logged-in & {
		top: 32px;
	}

	a {
		display: flex;
		height: $text-margin;
		width: 100%;
		justify-content: left;
		align-items: center;
		color: #999;
		text-align: center;
		text-decoration: none;
	}

	ul li.active a,
	ul li a:hover {
		color: #000;
	}

	.site-branding {
		display: flex;
		height: $text-margin;
		margin: 0 auto 0 0;
	}

	.site-branding h1 {
		font-size: $fonts-small;
		font-weight: 500;
	}

	.site-branding a {
		padding: 0 28px 0 0;
		color: #000;
	}

	.main-navigation {
		display: flex;
		height: $text-margin;
		justify-content: space-around;
		margin: 0 0 0 $text-margin;
	}

	.main-navigation .menu ul {
		margin: 0;
		padding: 0;
		list-style: none;
	}

	.main-navigation .menu ul li {
		display: inline;
	}

	.main-navigation a {
		padding: 0 0 0 28px;
	}
}


/* Responsive, fixme */
@media only screen and ( max-width: 640px ) {

	header.site-header {
		top: auto;
		bottom: 0;
		box-shadow: 0 0 10px rgba( 0,0,0, .25 );
		position: fixed;
		border-bottom: none;
	}

	body {
		margin-top: 0;
	}

}

.menu-toggle {
	display: none;
}


/**
 * Posts
 */

.site-content {
	margin: 0 auto;

	/* Center everything, except a few things */
	article > *:not( .alignfull ):not( .alignwide ) {
		max-width: $theme-width;
		margin-left: auto;
		margin-right: auto;
	}
}


/**
 * Alignments
 */

.alignfull,
.alignwide {
	max-width: 1800px;
	margin-left: auto;
	margin-right: auto;

	img {
		width: 100%;
	}
}

.alignfull {
	width: 100%;

}

.alignwide {
	width: 75%;
}


/**
 * Main column width
 */

.navigation,
.more-link,
.comments-area,
body.home .widget {
	max-width: $theme-width;
	margin: $text-margin auto;
	padding: 0 $responsive-padding;
}


/**
 * Text
 */

.site-content article {
	position: relative;
	padding: $text-margin 0;

	> p,
	> blockquote {
		max-width: $theme-width;
		padding: 0 $responsive-padding;
		margin-top: $text-margin;
		margin-bottom: $text-margin;
	}

	> ul {
		max-width: $theme-width;
		margin-top: $text-margin;
		margin-bottom: $text-margin;
	}

	p a {
		text-decoration: underline;
		font-weight: 700;
	}

	a:hover {
		text-decoration: none;
	}

	> h1,
	> h2,
	> h3 {
		max-width: $theme-width;
		padding: 0 $responsive-padding;
		margin: $text-margin auto;
		font-size: 36pt;
		line-height: 1.5;
	}

	> h2 {
		font-size: 32pt;
	}

	> h3 {
		font-size: 28pt;
	}

	> h4 {
		font-size: 100%;
	}

	> p:first-of-type {
		margin-top: 0;
	}
}


/**
 * Blocks
 */

/* Cover Image */
.wp-block-cover-image {
	margin: $text-margin auto;
}

/* Separator */
hr,
hr.wp-block-separator {
	border: none;
	text-align: center;
	font-size: 20px;

	&:before {
		content: '...';
		line-height: 0;
		letter-spacing: 1em;
	}
}

/* Quotes */
.site-content article > blockquote.wp-block-quote,
.site-content article.page > blockquote.wp-block-quote,
.site-content article.post > blockquote.wp-block-quote {	/* increase specificity */
	border-left: 4px solid #222;
	font-size: 15pt;
	padding: 0 2em;
	font-style: italic;
	max-width: $theme-width - $responsive-padding - $responsive-padding;
}

/* Fixme */
.site-content article > blockquote.align-left,
.site-content article > blockquote.align-right {
	max-width: 360px;
}

.site-content article > blockquote.align-left {
	float: left;
	margin-left: 15%;
	padding-right: 40px;
}

.site-content article > blockquote.align-right {
	float: right;
	margin-right: 15%;
	padding-left: 40px;
}

/* Pullquote */
.site-content article > blockquote.wp-block-pullquote {
	padding: $text-margin 0;
}

/* Responsive embeds */
.wp-block-embed {
	position: relative;

	&:before {
		content: '';
		display: block;
		padding-top: 56.25%;	/* 16:9 */
	}

	iframe {
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		width: 100%;
		height: 100%;
	}
}


/**
 * Comments
 */

.comment-form-comment {
	label {
		display: block;
	}
	textarea {
		width: 100%;
	}
}


/**
 * Home Page
 */

body.home .widget {
	h2 {
		font-size: 100%;
		margin-bottom: 1em;
	}

	p {
		margin-bottom: $text-margin;
	}
}

.posts {
	margin: 0 28px $text-margin 28px;
	column-count: 2;
	column-gap: 0;
	clear: both;
	transform: translateX( 0 );
}

@media only screen and ( max-width: 640px ) {

	.posts {
		column-count: 1;
	}

}

@media only screen and ( min-width: 1440px ) {

	.posts {
		column-count: 3;
	}

}

.posts article.post {
	background: #f7f7f7;
	margin: 0 28px $text-margin 28px;
	padding: 0;
	position: relative;
	overflow: hidden;
	background-size: cover;
	box-shadow: 0 0px 0px rgba( 0,0,0,0 );
	transition: all .1s linear;
	break-inside: avoid;

	&:before {
		content: '';
		display: block;
		padding-top: 50%;
	}

	&.featured:before,
	&:first-child:before {
		padding-top: 75%;
	}

	> a {
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		padding: 28px;
		text-decoration: none;
		display: block;
		color: #222;
	}

	> a:hover h3 {
		text-decoration: underline;
	}

	&:hover {
		box-shadow: 0 10px 40px rgba( 0,0,0, .2 );
	}

	.entry-meta {
		font-family: $fonts-system;
		font-size: $fonts-small;
		position: absolute;
		bottom: 28px;
	}

	.entry-meta a {
		color: #222;
		text-decoration: none;
	}

	.entry-meta a:hover {
		text-decoration: underline;
	}

	h3 svg {
		width: 18px;
		height: 18px;
		position: absolute;
		top: 36px;
		right: 28px;
	}
}
